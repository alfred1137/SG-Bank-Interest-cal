<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Optimal Fund Allocation</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="src/output.css">
</head>
<body class="bg-ctp-bg text-ctp-text">
    <header class="bg-ctp-surface shadow-md">
        <div class="container mx-auto px-6 py-4">
            <h1 class="text-2xl font-bold text-ctp-primary">Singapore Savings Account Optimizer</h1>
            <p class="text-ctp-subtext">Maximize your monthly interest by optimally allocating your funds across high-interest savings accounts.</p>
        </div>
    </header>

    <main class="container mx-auto px-6 py-8">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Left Scrolling Workspace -->
            <div class="lg:col-span-2 space-y-6">
                <!-- Card 1: Total Funds -->
                <div class="bg-ctp-crust p-8 rounded-xl shadow-lg text-center">
                    <label for="totalFunds" class="block text-xl font-bold text-ctp-subtext mb-3">Total Funds to Allocate (SGD)</label>
                    <input type="number" id="totalFunds" value="250000" min="0" class="w-full max-w-sm mx-auto p-4 bg-ctp-base border-2 border-ctp-surface1 rounded-lg text-ctp-text text-3xl font-mono text-center focus:ring-ctp-primary focus:border-ctp-primary transition duration-200" placeholder="e.g., 100000">
                </div>

                <!-- Card 2: UOB One -->
                <div class="bg-ctp-surface p-6 rounded-lg shadow-sm">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-xl font-semibold text-ctp-primary">UOB One Account</h2>
                        <label class="flex items-center cursor-pointer">
                            <span class="mr-3 text-sm font-medium text-ctp-text">Spend min. S$500</span>
                            <div class="relative">
                                <input type="checkbox" id="uobSpendToggle" name="uobSpendToggle" class="sr-only peer">
                                <div class="w-11 h-6 bg-ctp-overlay rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-ctp-primary"></div>
                            </div>
                        </label>
                    </div>
                    <div id="uobConditions" class="grid grid-cols-1 md:grid-cols-2 gap-4 hidden">
                        <label class="checkbox-option"><input type="checkbox" name="uobCondition" value="giro"><span>3 GIRO debits</span></label>
                        <label class="checkbox-option"><input type="checkbox" name="uobCondition" value="salary"><span>Salary Credit</span></label>
                    </div>
                </div>

                <!-- Card 3: UOB Stash -->
                <div class="bg-ctp-surface p-6 rounded-lg shadow-sm">
                    <h2 class="text-xl font-semibold mb-3 text-ctp-primary">UOB Stash Account</h2>
                    <div class="toggle-group">
                        <label class="toggle-option"><input type="radio" name="uobStashCondition" value="no_account" checked><span>No account / Not applicable</span></label>
                        <label class="toggle-option"><input type="radio" name="uobStashCondition" value="maintain_balance"><span>Maintain previous month's MAB</span></label>
                    </div>
                </div>

                <!-- Card 4: SC Bonus$aver -->
                <div class="bg-ctp-surface p-6 rounded-lg shadow-sm">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-xl font-semibold text-ctp-primary">SC Bonus$aver Account</h2>
                        <label class="flex items-center cursor-pointer">
                            <span class="mr-3 text-sm font-medium text-ctp-text">Include Account</span>
                            <div class="relative">
                                <input type="checkbox" id="scToggle" name="scAccountStatus" class="sr-only peer">
                                <div class="w-11 h-6 bg-ctp-overlay rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-ctp-primary"></div>
                            </div>
                        </label>
                    </div>
                    <div id="scConditions" class="grid grid-cols-1 md:grid-cols-2 gap-4 hidden">
                        <label class="checkbox-option"><input type="checkbox" name="scCondition" value="salary_credit"><span>Salary Credit (min. S$3k)</span></label>
                        <label class="checkbox-option"><input type="checkbox" name="scCondition" value="card_spend"><span>Card Spend (min. S$1k)</span></label>
                        <label class="checkbox-option"><input type="checkbox" name="scCondition" value="insure"><span>Insure (min. S$2k premium)</span></label>
                        <label class="checkbox-option"><input type="checkbox" name="scCondition" value="invest"><span>Invest (min. S$20k)</span></label>
                    </div>
                </div>

                 <!-- Card 5: OCBC 360 -->
                 <div class="bg-ctp-surface p-6 rounded-lg shadow-sm">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-xl font-semibold text-ctp-primary">OCBC 360 Account</h2>
                        <label class="flex items-center cursor-pointer">
                            <span class="mr-3 text-sm font-medium text-ctp-text">Include Account</span>
                            <div class="relative">
                                <input type="checkbox" id="ocbc360Toggle" name="ocbc360AccountStatus" class="sr-only peer">
                                <div class="w-11 h-6 bg-ctp-overlay rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-ctp-primary"></div>
                            </div>
                        </label>
                    </div>
                    <div id="ocbc360Conditions" class="grid grid-cols-1 md:grid-cols-2 gap-4 hidden">
                        <label class="checkbox-option"><input type="checkbox" name="ocbc360Condition" value="salary"><span>Salary Credit (min. S$1.8k)</span></label>
                        <label class="checkbox-option"><input type="checkbox" name="ocbc360Condition" value="save"><span>Save (increase balance by S$500)</span></label>
                        <label class="checkbox-option"><input type="checkbox" name="ocbc360Condition" value="insure"><span>Insure</span></label>
                        <label class="checkbox-option"><input type="checkbox" name="ocbc360Condition" value="invest"><span>Invest</span></label>
                    </div>
                </div>

                 <!-- Card 6: DBS Multiplier -->
                 <div class="bg-ctp-surface p-6 rounded-lg shadow-sm">
                    <h2 class="text-xl font-semibold mb-3 text-ctp-primary">DBS Multiplier Account</h2>
                    <div class="toggle-group-dbs">
                         <label class="toggle-option"><input type="radio" name="dbsCondition" value="no_account" checked><span>No account</span></label>
                    </div>
                    <div id="dbsConditions" class="space-y-3 mt-3">
                        <div class="dbs-accordion">
                            <div class="accordion-header cursor-pointer flex justify-between items-center p-2 bg-ctp-surface1 rounded-md">
                                <h4 class="font-semibold text-sm text-ctp-subtext">Income + 1 Category (Cap: S$50k)</h4>
                                <svg class="w-4 h-4 transform transition-transform text-ctp-subtext" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                            </div>
                            <div class="accordion-content hidden pl-4 pt-2">
                                <label class="toggle-option block"><input type="radio" name="dbsCondition" value="income_1_cat_500_to_15000"><span>≥ S$500 to < S$15k (1.80% p.a.)</span></label>
                                <label class="toggle-option block"><input type="radio" name="dbsCondition" value="income_1_cat_15000_to_30000"><span>≥ S$15k to < S$30k (1.90% p.a.)</span></label>
                                <label class="toggle-option block"><input type="radio" name="dbsCondition" value="income_1_cat_30000_plus"><span>≥ S$30k (2.20% p.a.)</span></label>
                            </div>
                        </div>
                        <div class="dbs-accordion">
                            <div class="accordion-header cursor-pointer flex justify-between items-center p-2 bg-ctp-surface1 rounded-md">
                                <h4 class="font-semibold text-sm text-ctp-subtext">Income + 2 Categories (Cap: S$100k)</h4>
                                 <svg class="w-4 h-4 transform transition-transform text-ctp-subtext" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                            </div>
                            <div class="accordion-content hidden pl-4 pt-2">
                                <label class="toggle-option block"><input type="radio" name="dbsCondition" value="income_2_cat_500_to_15000"><span>≥ S$500 to < S$15k (2.10% p.a.)</span></label>
                                <label class="toggle-option block"><input type="radio" name="dbsCondition" value="income_2_cat_15000_to_30000"><span>≥ S$15k to < S$30k (2.20% p.a.)</span></label>
                                <label class="toggle-option block"><input type="radio" name="dbsCondition" value="income_2_cat_30000_plus"><span>≥ S$30k (3.00% p.a.)</span></label>
                            </div>
                        </div>
                        <div class="dbs-accordion">
                            <div class="accordion-header cursor-pointer flex justify-between items-center p-2 bg-ctp-surface1 rounded-md">
                                 <h4 class="font-semibold text-sm text-ctp-subtext">Income + 3+ Categories (Cap: S$100k)</h4>
                                 <svg class="w-4 h-4 transform transition-transform text-ctp-subtext" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                            </div>
                            <div class="accordion-content hidden pl-4 pt-2">
                                <label class="toggle-option block"><input type="radio" name="dbsCondition" value="income_3_cat_500_to_15000"><span>≥ S$500 to < S$15k (2.40% p.a.)</span></label>
                                <label class="toggle-option block"><input type="radio" name="dbsCondition" value="income_3_cat_15000_to_30000"><span>≥ S$15k to < S$30k (2.50% p.a.)</span></label>
                                <label class="toggle-option block"><input type="radio" name="dbsCondition" value="income_3_cat_30000_plus"><span>≥ S$30k (4.10% p.a.)</span></label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Card 7: CIMB FastSaver -->
                <div class="bg-ctp-surface p-6 rounded-lg shadow-sm">
                    <div class="flex items-center justify-between">
                        <h2 class="text-xl font-semibold text-ctp-primary">CIMB FastSaver Account</h2>
                        <label class="flex items-center cursor-pointer">
                            <span class="mr-3 text-sm font-medium text-ctp-text">Include Account</span>
                            <div class="relative">
                                <input type="checkbox" id="cimbToggle" name="cimbCondition" value="has_account" class="sr-only peer" checked>
                                <div class="w-11 h-6 bg-ctp-overlay rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-ctp-primary"></div>
                            </div>
                        </label>
                    </div>
                </div>

            </div>

            <!-- Right Sticky Scoreboard -->
            <div class="relative">
                <div id="sticky-panel" class="sticky top-8 space-y-6">
                    <!-- Hero Section -->
                    <div class="bg-ctp-crust p-8 rounded-xl shadow-lg text-center">
                        <h2 class="text-lg font-medium text-ctp-subtext mb-2">Total Monthly Interest</h2>
                        <p id="monthlyInterest" class="text-5xl font-bold text-ctp-success transition-colors duration-300">S$0.00</p>
                        <p id="annualInterest" class="text-lg text-ctp-primary mt-2 font-semibold">S$0.00 / year</p>
                        <p id="equivalentRate" class="text-md text-ctp-text mt-2">Equivalent 0.00% p.a.</p>
                    </div>

                    <!-- Visual Allocation Chart -->
                    <div class="bg-ctp-surface p-6 rounded-lg shadow-sm">
                        <h3 class="text-xl font-semibold mb-4 text-ctp-primary">Optimal Allocation</h3>
                        <div class="relative h-64 mx-auto" style="max-width: 300px;">
                            <canvas id="allocationPieChart"></canvas>
                        </div>
                         <div id="allocationResults" class="mt-4 space-y-2">
                            <!-- JS will inject text breakdown here -->
                        </div>
                    </div>

                    <!-- Breakdown Summary -->
                    <div class="bg-ctp-surface p-6 rounded-lg shadow-sm">
                        <h3 class="text-xl font-semibold mb-2 text-ctp-primary">Interest Breakdown</h3>
                        <div id="interestBreakdown" class="space-y-4">
                            <!-- JS will inject accordions here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-ctp-mantle border-t border-ctp-surface1 py-8 mt-12">
        <div class="container mx-auto px-6 text-center">
            <p class="text-ctp-subtext text-sm">© 2026 Singapore Savings Account Optimizer. All rights reserved.</p>
            <div class="mt-4 space-x-4">
                <button id="openDisclaimer" class="text-ctp-primary hover:underline text-sm font-semibold">Legal Disclaimer</button>
            </div>
        </div>
    </footer>

    <!-- Disclaimer Modal -->
    <div id="disclaimerModal" class="fixed inset-0 bg-ctp-crust/80 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4">
        <div class="bg-ctp-surface max-w-2xl w-full rounded-xl shadow-2xl border border-ctp-overlay/20 max-h-[90vh] flex flex-col">
            <div class="p-6 border-b border-ctp-overlay/10 flex justify-between items-center">
                <h2 class="text-xl font-bold text-ctp-primary">Legal Disclaimer</h2>
                <button id="closeDisclaimer" class="text-ctp-subtext hover:text-ctp-text transition-colors">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            <div class="p-6 overflow-y-auto text-ctp-text space-y-4 text-sm leading-relaxed">
                <p><strong>Last Updated: January 20, 2026</strong></p>
                <p>The Singapore Savings Account Optimizer (the "Tool") is provided for informational and educational purposes only. It is intended to provide a general estimation of potential interest earnings based on user-provided inputs and publicly available bank interest rate information.</p>
                <p><strong>Not Financial Advice:</strong> The information provided by this Tool does not constitute financial, investment, or legal advice. You should not rely on the information provided by this Tool as a substitute for professional financial advice.</p>
                <p><strong>Accuracy of Information:</strong> While we strive to keep the information and rates used by this Tool up to date, bank interest rates, terms, and conditions change frequently and without notice. We make no representations or warranties of any kind, express or implied, about the completeness, accuracy, reliability, or suitability of the information provided.</p>
                <p><strong>Bank Terms and Conditions:</strong> All calculations are subject to the specific terms and conditions of each respective bank. Users are responsible for verifying the latest rates and requirements directly with the financial institutions before making any financial decisions.</p>
                <p><strong>Limitation of Liability:</strong> In no event will we be liable for any loss or damage including without limitation, indirect or consequential loss or damage, or any loss or damage whatsoever arising from loss of data or profits arising out of, or in connection with, the use of this Tool.</p>
            </div>
            <div class="p-6 border-t border-ctp-overlay/10 text-right">
                <button id="closeDisclaimerBtn" class="bg-ctp-primary text-ctp-bg px-6 py-2 rounded-lg font-semibold hover:opacity-90 transition-opacity">I Understand</button>
            </div>
        </div>
    </div>

    <script type="module" src="src/ui/script.js"></script>
</body>
</html>
